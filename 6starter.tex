
\section{Starter.ss}

SS begins by reading the file starter.ss.  Its format and content is as follows.  Note that the term COND in the Typical Value column means that the existence of input shown there is conditional on a value specified earlier in the file.  Omit or comment out these entries if the appropriate condition has not been selected.

\begin{landscape}

\centerline{\large{STARTER.SS}} 
\vspace{0.25in}


\begin{longtable}{p{1.5cm} p{7cm} p{12.5cm}} 

 \hline
 Typical Value & Options & Description\\  
 \hline
 \endfirsthead
 
 Typical Value & Options & Description\\ 
 \hline
 \endhead
 
 \hline
 \endfoot
 
 \hline
 \multicolumn{3}{ c }{End of Starter File}\\
 \hline
 \endlastfoot

 \#C this is a starter comment & Must begin with \#C then rest of the line is free form & All lines in this file beginning with \#C will be retained and written to the top of several output files\\
		
 \hline
 data\textunderscore file.dat &  & File name of the data file\\
		
 \hline
 control\textunderscore file.ctl &  & File name of the control file\\
   
 \hline		
 0 & Initial Parameter Values: & \multirow{1}{1cm}[-0.1cm]{\parbox{12.5cm}{Don't use this if there have been any changes to the control file that would alter the number or order of parameters stored in the ss.par file.  Values in ss.par can be edited, carefully. Do not run sstrans.exe from a ss.par from SS v.3.24.}}\\
 & 0 = use values in control file; &  \\
 & 1 = use ss.par after reading setup in the control file & \\
		
 \hline
 1 & Run display detail: &  \multirow{1}{1cm}[-0.1cm]{\parbox{12.5cm}{With option 2, the display shows value of each -logL component for each iteration and it displays where crash penalties are created}} \\
   & 0 = none other than ADMB outputs; & \\
   & 1 = one brief line of display for each iteration; & \\
   & 2 = fuller display per iteration & \\
		  
 \hline
 1 & Detailed age-structure report & \multirow{1}{1cm}[-0.1cm]{\parbox{12.5cm}{Detailed age-structured report in REPORT.SSO.}} \\
   & 0 = omit catch-at-age for each fleet and cohort; & \\
   & 1 = include all output; &  \\
   & 2 = reduce output for data-limited models &  \\		 
		 
 \hline
 0 & Check-up & \multirow{1}{1cm}[-0.1cm]{\parbox{12.5cm}{This output is largely unformatted and undocumented and is mostly used by the developer. }}\\
   & 0 = omit & \\
   & 1 = write detailed intermediate calculations to ECHOINPUT.SSO during first call & \\

 \pagebreak		
 %\hline
 0 & Parameter Trace & \multirow{1}{1cm}[-0.1cm]{\parbox{12.5cm}{This controls the output to PARMTRACE.SSO. The contents of this output can be used to determine which values are changing when a model approaches a crash condition.  It also can be used to investigate patterns of parameter changes as model convergence slowly moves along a ridge.}} \\
   & 0 = omit & \\
   & 1 = write good iteration and active parms & \\
   & 2 = write good iterations and all parms & \\
   & 3 = write every iteration and all parms & \\
   & 4 = write every iteration and active parms &  \\
   
 \hline
 1 & Cumulative Report & \multirow{1}{1cm}[-0.1cm]{\parbox{12.5cm}{Controls reporting to the file CUMREPORT.SSO.
 		This cumulative report is most useful when accumulating summary information from likelihood profiles or when simply accumulating a record of all model runs within the current subdirectory}}\\
   & 0 = omit  & \\
   & 1 = brief & \\
   & 2 = full  &  \\
   & & \\
	 
 \hline
 1 & Full Priors & \multirow{1}{1cm}[-0.1cm]{\parbox{12.5cm}{Turning on this option causes all prior values to be calculated.  With this option off, the total logL, which includes the logL for priors, would change between model phases as more parameters became active.}} \\
   & 0 = only calculate priors for active parameters &	\\
   & 1 = calculate priors for all parameters that have a defined prior & \\
	     
 \hline
 1 & Soft Bounds & \multirow{1}{1cm}[-0.1cm]{\parbox{12.5cm}{This option creates a weak symmetric beta penalty for the selectivity parameters.  This becomes important when estimating selectivity functions in which the values of some parameters cause other parameters to have negligible gradients, or when bounds have been set too widely such that a parameter drifts into a region in which it has negligible gradient.  The soft bound creates a weak penalty to move parameters away from the bounds.}} \\
   & 0 = omit & \\
   & 1 = use & \\
   & & \\
   & & \\
   & & \\
   & & \\
   & & \\

 \pagebreak	   
 %\hline
 1 & Data File Output & \multirow{1}{1cm}[-0.1cm]{\parbox{12.5cm}{All output files are sequentially output to DATA.SS\textunderscore new and will need to be parsed by the user into separate data files. The output of the input data file makes no changes, so retains the order of the original file. Output files 2-N contain only observations that have not been excluded through use of the negative year denotation, and the order of these output observations is as processed by the model. The N obs values are adjusted accordingly.  At this time, the tag recapture data is not output to DATA.SS\textunderscore new.}}\\
   & 0 = none & \\
   & 1 = output an annotated replicate of the input data file & \\
   & 2 = add a second data file containing the model's expected values with no added error & \\
   & 3+ = add N-2 parametric bootstrap data files & \\
   & & \\

 \hline
 8 & Turn off estimation &  \multirow{1}{1cm}[-0.1cm]{\parbox{12.5cm}{The 0 option is useful for (1) quickly reading in a messy set of input files and producing the annotated CONTROL.SS\textunderscore new and DATA.SS\textunderscore new files, or (2) examining model output based solely on input parameter values.  Similarly, the value option allows examination of model output after completing a specified phase.  Also see usage note for restarting from a specified phase.}}\\
   & -1 = exit after reading input files & \\
   & 0 = exit after one call to the calculation routines and production of SSO and SS\textunderscore New files & \\
   & <positive value> = exit after completing this phase & \\	  
	     
 \hline
 10 & MCMC burn interval & Need to document this and set good default \\
	   
 \hline
 2 & MCMC thin interval & Need to document this and set good default \\
	   
 \hline 
 0.0 & Jitter & \multirow{1}{1cm}[-0.1cm]{\parbox{12.5cm}{The jitter function has been revised with v3.30.  Starting values are now jittered based on a normal distribution based on the pr(P\textsubscript{MIN}) = 0.1\% and the pr(P\textsubscript{MAX}) = 99.9\%, \hyperlink{Jitter}{\textit{click here for more information}} }}\\
	 & A positive value here will add a small random jitter to the initial parameter values.  When using the jitter option, care should be given when defining P\textsubscript{MIN} and P\textsubscript{MAX} values and particularly -999 or 999 should not be used to define bounds. & \\
	 & &  \\
	
 \hline
 -1 & SD Report Start & \\
    & -1 = begin annual SD report in start year & \\
    & <year> = begin SD report this year & \\
	      
 \hline
 %\pagebreak
 -1 & SD Report End & \\
    & -1 = end annual SD report in end year & \\
    & -2 = end annual SD report in last forecast year & \\
    & <value> = end SD report in this year & \\
	   
 \hline
 2 & Extra SD Report Years & \multirow{1}{1cm}[-0.1cm]{\parbox{12.5cm}{In a long time series application, the model variance calculations will be smaller and faster if not all years are included in the SD reporting.  For example, the annual SD reporting could start in 1960 and the extra option could select reporting in each decade before then.}}\\
   & 0 = none & \\
   & <value> = number of years to read &  \\
   & & \\
   & & \\

 \hline  
 \multicolumn{3}{l}{COND: If Extra SD report years > 0} \\

 \multicolumn{1}{r}{1940 1950} & \multicolumn{2}{l}{Vector of years for additional SD reporting} \\

 \hline
 0.0001 & Final convergence & \multirow{1}{1cm}[-0.1cm]{\parbox{12.5cm}{This is a reasonable default value for the change in logL denoting convergence.  For applications with much data and thus a large total logL value, a larger convergence criterion may still provide acceptable convergence}}\\
        & & \\
        & & \\
		& & \\ 
 
 \hline
 0 & Retrospective year & \multirow{1}{1cm}[-0.1cm]{\parbox{12.5cm}{Adjusts the model end year and disregards data after this year.  May not handle time varying parameters completely.}} \\
   & 0 = none & \\
   & -x = retrospective year relative to end year & \\
  
 \hline
 0 & Summary biomass min age & \multirow{1}{1cm}[-0.1cm]{\parbox{12.5cm}{Minimum integer age for inclusion in the summary biomass used for reporting and for calculation of total exploitation rate}}\\
   & & \\ 

 %\hline
 \pagebreak
 1 & Depletion basis & \multirow{1}{1cm}[-0.1cm]{\parbox{12.5cm}{Selects the basis for the denominator when calculating degree of depletion in SSB.  The calculated values are reported to the SD report.}}\\
   & 0 = skip & \\
   & 1 = X*B0 & \\
   & 2 = X*B\textsubscript{MSY} & \\
   & 3 = X*B\textsubscript{styr} & \\
  
 \hline
 0.40 & Fraction (X) for depletion denominator & So would calculate the ratio of SSB\textsubscript{y}/(0.40*SSB0)\\

 \hline
 %\pagebreak
 1 & SPR report basis & \multirow{1}{1cm}[-0.1cm]{\parbox{12.5cm}{SPR is the equilibrium SSB per recruit that would result from the current year’s pattern and intensity of F’s.  The SPR approach to measuring fishing intensity was implemented because the concept of a single annual F does not exist in SS.
 The quantities identified by 1, 2, and 3 here are all calculated in the benchmarks section.  Then the one specified here is used as the selected denominator in a ratio with the annual value of (1 – SPR). This ratio (and its variance) is reported to the SD report output for the years selected above in the SD report year selection.}}\\
   & 0 = skip & \\
   & 1 = use 1-SPR\textsubscript{target} & \\
   & 2 = use 1-SPR at MSY & \\
   & 3 = use 1-SPR at B\textsubscript{target} & \\
   & 4 = no denominator, so report actual 1-SPR values & \\
   & & \\
   & & \\
   & & \\
  
 \pagebreak
 %\hline 
 4 & F std report value &  \multirow{1}{1cm}[-0.1cm]{\parbox{12.5cm}{In addition to SPR, an additional proxy for annual F can be specified here.  As with SPR, the selected quantity will be calculated annually and in the benchmarks section.  The ratio of the annual value to the selected (see F report basis below) benchmark value is reported to the SD report vector.  Options 1 and 2 use total catch for the year and summary abundance at the beginning of the year, so combines seasons and areas.  But if most catch occurs in one area and there is little movement between areas, this ratio is not informative about the F in the area where the catch is occurring.  Option 3 is a simple sum of the full F’s by fleet, so may provide non-intuitive results when there are multi areas or seasons or when the selectivities by fleet do not have good overlap in age.  Option 4 is a real annual F calculated as a numbers weighted F for a specified range of ages (read below).  The F is calculated as Z-M where Z and M are each calculated an ln(N\textsubscript{t+1}/N\textsubscript{t}) with and without F active, respectively. The numbers are summed over all biology morphs and all areas for the beginning of the year, so subsumes any seasonal pattern.}}\\
   & 0 = skip & \\
   & 1 = exploitation rate in biomass & \\
   & 2 = exploitation rate in numbers & \\
   & 3 = sum(full F's by fleet) & \\
   & 4 = population F for range of ages & \\
   & & \\
   & & \\
   & & \\
   & & \\
   & & \\
   & & \\
   & & \\  
   & & \\
   & & \\
   & & \\  
  
 %\hline
 %\pagebreak
 \multicolumn{2}{l}{COND: If F std reporting = 4 } & \multirow{1}{1cm}[-0.1cm]{\parbox{12.5cm}{Specify range of ages. Upper age must be less than maxage because of incomplete handling of the accumulator age for this calculation.}} \\

 \multicolumn{1}{r}{13 17}  & Age range if F std reporting = 4 & \\

 \hline
 %\pagebreak
 1 & F report basis &  \multirow{1}{1cm}[-0.1cm]{\parbox{11cm}{Selects the denominator to use when reporting the F std report values.  Note that order of these options differs from the biomass report basis options.}}\\
   & 0 = not relative, report raw values & \\
   & 1 = use F std value corresponding to SPR\textsubscript{target} & \\
   & 2 = use F std value corresponding to F\textsubscript{MSY} & \\
   & 3 = use F std value corresponding to F\textsubscript{Btarget} & \\

  %\hline
  \pagebreak
  0 & MCMC output detail & \multirow{1}{1cm}[-0.1cm]{\parbox{11cm}{Specify format of MCMC output}} \\
  & 0 = default & \\
  & 1 = output likelihood components and associated lambda values &  \\
  & 2 = expanded output &  \\		 
  % & 3 = create output subdirectory and files for each MCMC vector &  \\		 
  
  \hline
  \hypertarget{ALK}{0} & Age-length-key (ALK) tolerance level, 0 >= values required & Value of 0 will not apply any compression.  Values > 0 (e.g. 0.0001) will apply compression to the ALK which will increase the speed of calculations.  The size of this value will impact the run time of your model, but one should be careful to ensure that the value used does not appreciably impact the estimated quantities relative to no compression of the ALK.  The suggested value if applied is 0.0001. \\  
  
%\pagebreak
 
 \hline
 \hypertarget{Convert}{3.30} & 3.30: Indicates that the control and data files are currently in SS v3.30 format. 
	 & \multirow{1}{1cm}[-0.1cm]{\parbox{12.5cm}{The transition executable for SS v3.30 will create converted files in the new format from previous versions (must be 3.24) when 999 is given.  All ss\_new files are in the 3.30 format, so starter.ss\_new has 3.30 on the last line.  Some Mgparms are in new sequence, so 3.30 cannot read a ss.par file produced by version 3.24 and earlier, so please ensure that read par file option at the top of the starter file is set to 0. Please see \hypertarget{ConvIssues} {\textit{Converting Files from 3.24} section for additional information on model features that may impede file conversion.}}}\\
     & \multirow{1}{1cm}[-0.1cm]{\parbox{7cm}{999: Indicates that the control and data file are in a previous SS 3.24 version.  The sstrans.exe executable should be used which will convert the files to the new format in the control.ss\_new and data.ss\_new files.}}  & \\  
     & & \\  
	 & & \\
     & & \\
   	 & & \\
     & & \\
     & & \\	
\end{longtable}
\end{landscape}
\restoregeometry

\subsection{Jitter}
\hypertarget{Jitter}{}
The jitter function has been updated with v.3.30.  The following steps are now performed to determine the jittered starting parameter values:
\begin{enumerate}
	\item A normal distribution is calculated such that the pr(P\textsubscript{MIN}) = 0.01\% and the pr(P\textsubscript{MAX}) = 99.9\%.
	\item A jitter shift value, termed "\textit{K}", is calculated from the distribution based on the pr(P\textsubscript{CURRENT}).
	\item A random value is drawn, "\textit{J}", from the range of \textit{K}-jitter to \textit{K}+jitter with the constraint that it cannot be $<$0.1\% or $>$ 99.9\% of the distribution.
	\item \textit{J} is a new cumulative normal probability value.
	\item Calculate a new parameter value, P\textsubscript{JITTERED}, such that pr(P\textsubscript{JITTERED}) = \textit{J}.
\end{enumerate}

\hypertarget{ConvIssues}{}
\subsection{Converting Files from 3.24}
Converting files from v.3.24 to v.3.30 can be easily performed by using the program sstrans.exe. The following file structure and steps are recommended for converting model files:
\begin{itemize}
	\item Create "transition" folder.  Place v. 3.24 files within the transition folder along with the SS transition executable ("SStrans.exe").  Run the transition executable with phase = 0 within the starter file, with the read par file turned off (option 0).
	\item Create "converted" folder.  Place the ss\_new (data.ss\_new, control.ss\_new, starter.ss\_new, forecast.ss\_new)files created by the transition executable contained within the "transition" folder into this new folder.  Rename the ss\_new files to the appropriate suffixes and change the names in the starter.ss file accordingly.
	\item Review the control file to determine that all model functions converted correctly.  The structural changes and assumptions for a couple of the advanced model features are too complicated to convert automatically.  See below for some known features that may not convert.
	\item Within the "transition" folder run the SS\_trans.exe with phases turned on.  Compare the transition executable results with those previously obtained by a 3.24 executable.
	\item Return to the "converted" folder and run the transitioned files with the new 3.30 executable (SS.exe).
	\item Compare likelihood and model estimates across executables.
\end{itemize}

\noindent There are some options that have been substantially changed in version 3.30 which impedes the automatic converting of 3.24 model files. Known examples of 3.24 options that cannot be converted, but for which better alternatives are available in 3.30 are:
\begin{itemize}
	\item The use of Q deviations,
	\item Complex birth seasons,
	\item Environmental effects on spawner-recruitment parameters,
	\item Setup of time-varying quantities for models that used the no-longer-available logistic bound constraint.
\end{itemize}
